# 百度指数爬虫说明

**不想用这个代码可以自己再写一份, 网站不复杂**



网站: http://index.baidu.com/v2/index.html#/

反爬: 
- 封账号 一天, 换cookie即可
- 有些时间段不返回数据, 多重试即可


## 运行
 - 首先修改`config.py`中的`cookie` 改为自己的, 没有可以借
   
> 如果要全国的请在`config.py`中的`CITY_CODE`添加`"全国": 0`即可



为了缩小文件体积, `原始数据` 我已经放在NAS的`公用库\爬虫数据\周期\百度指数原始数据`里边, 

在运行`.ipynb`之前请把最新抓取的数据和历史数据放在一起, 也可以自己修改程序中的`path`l路径.

使其指向这个文件夹, 或者修改程序, 重新写.



 - 启动页面 `demo.py`
   > 修改`TODO`处的数字, 依次向后添加(之前的数据已经抓取过), 每个数字代表抓取一次. 具体数据请查看`原始数据`文件夹
   >
   > 为什么不删除以前数据, 因为百度指数有时候不会返回数据, 需要重复抓取后, 用后面的数据来填充之前的空白数据
   >
   > 这里我已经运行了23次, 自己可以另外写一份代码, 把之前的数据合并

 - 程序执行完毕请运行 `1_百度指数_出布林线.ipynb`, 需要用到之前抓取的数据
   
   > 修改`number`的值, 使其和 `demo.py`中修改的数值一样
   
   > 文件说明(数据处理说明): 
   > > 1. 首先把每个城市的所有的数据合并, 替换掉空数据.
   > > 2. 将每个**字段** 按照月份聚合, 分别计算期布林线, 窗口为9
   > > 3. 导出数据, 发给sammy
   